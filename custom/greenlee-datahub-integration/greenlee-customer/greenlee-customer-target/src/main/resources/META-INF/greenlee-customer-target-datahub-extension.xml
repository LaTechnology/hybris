<!--
  ~ [y] hybris Platform
  ~
  ~ Copyright (c) 2000-2015 hybris AG
  ~ All rights reserved.
  ~
  ~ This software is the confidential and proprietary information of hybris
  ~ ("Confidential Information"). You shall not disclose such Confidential
  ~ Information and shall use it only in accordance with the terms of the
  ~ license agreement you entered into with hybris.
  -->
<extension xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.hybris.com/schema/"
		   xsi:schemaLocation="http://www.hybris.com/schema/ http://www.hybris.com/schema/datahub-metadata-schema-1.2.0.xsd"
		   name="greenlee-customer-target">

	<dependencies>
		<dependency>
			<extension>greenlee-customer-canonical</extension>
		</dependency>
		<dependency>		
			<extension>sapidocoutboundadapter</extension>
		</dependency>
		<dependency>		
			<extension>sapidocintegration</extension>			
		</dependency>
		<dependency>
			<extension>sapcustomer-target</extension>
		</dependency>
	</dependencies>

	<targetSystems>
		<targetSystem>
			<name>HybrisCore</name>
			<type>HybrisCore</type>
			<exportURL>${targetsystem.hybriscore.url}</exportURL>
			<userName>${targetsystem.hybriscore.username}</userName>
			<password>${targetsystem.hybriscore.password}</password>
			<exportCodes></exportCodes>
			<targetItems>
				<item>
					<type>Company</type>
					<exportCode>B2BUnit</exportCode>
					<description>Greenlee Account</description>
					<updatable>true</updatable>
					<canonicalItemSource>CanonicalParty</canonicalItemSource>
					<status>ACTIVE</status>
					<attributes>
						<attribute>
							<name>userType</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>accountGroup</transformationExpression>
							<exportCode>userType(UserTypes.code)</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>					
						<attribute>
							<name>status</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>accountStatus</transformationExpression>
							<exportCode>status</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>paymentTerms</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>paymentTerms</transformationExpression>
							<exportCode>paymentTerms</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>freightTerms</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>freightTerms</transformationExpression>
							<exportCode>freightTerms</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>incoTerms2</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>incoTerms2</transformationExpression>
							<exportCode>incoTerms2</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>currencyPreference</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>currency</transformationExpression>
							<exportCode>currencyPreference(isocode)</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>									
						<attribute>
							<name>partentCustomerNumber</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>parentNumber</transformationExpression>
							<exportCode>partentCustomerNumber</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>						
					</attributes>
				</item>	
				<item>
					<type>CompanySalesUnit</type>
					<exportCode>B2BUnit</exportCode>
					<description>Company sub-unit responsible for sales.</description>
					<updatable>true</updatable>
					<canonicalItemSource>CanonicalPartySales</canonicalItemSource>
					<status></status>
					<attributes>
						<attribute>
							<name>userType</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalParty').accountGroup</transformationExpression>
							<exportCode>userType(UserTypes.code)</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>					
						<attribute>
							<name>status</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalParty').accountStatus</transformationExpression>
							<exportCode>status</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>paymentTerms</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalParty').paymentTerms</transformationExpression>
							<exportCode>paymentTerms</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>freightTerms</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalParty').freightTerms</transformationExpression>
							<exportCode>freightTerms</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>incoTerms2</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalParty').incoTerms2</transformationExpression>
							<exportCode>incoTerms2</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>currencyPreference</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalParty').currency</transformationExpression>
							<exportCode>currencyPreference(isocode)</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>							
						<attribute>
							<name>partentCustomerNumber</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalParty').parentNumber</transformationExpression>
							<exportCode>partentCustomerNumber</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute disabled="true">
							<name>userPriceGroup</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>priceGroup</transformationExpression>
							<exportCode>userPriceGroup(UserPriceGroup.code)</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute disabled="true">
							<name>userDiscountGroup</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>priceGroup</transformationExpression>
							<exportCode>userDiscountGroup(UserDiscountGroup.code)</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>						
					</attributes>
				</item>
				<item>
					<type>CompanyAddress</type>
					<exportCode>Address</exportCode>
					<description>Greenlee Account Address</description>
					<updatable>true</updatable>
					<canonicalItemSource>CanonicalPartyAddress</canonicalItemSource>
					<status>ACTIVE</status>
					<attributes>					
						<attribute>
							<name>contactFirstName</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalAddress')?.contactFirstName</transformationExpression>
							<exportCode>contactFirstName</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>						
						<attribute>
							<name>contactLastName</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalAddress')?.contactLastName</transformationExpression>
							<exportCode>contactLastName</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>								
						<attribute>
							<name>addressLine2</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalAddress')?.addressLine2</transformationExpression>
							<exportCode>addressLine2</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>			
						<attribute>
							<name>countryName</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalAddress')?.addressCountry</transformationExpression>
							<exportCode>countryName</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>soldToAddress</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>'false'</transformationExpression>
							<exportCode>soldToAddress</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>						
						<attribute>
							<name>contactNumber</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalAddress')?.addressContactNumber</transformationExpression>
							<exportCode>contactNumber</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>					
					</attributes>
				</item>
				<item>
					<type>CompanySalesUnitAddress</type>
					<exportCode>Address</exportCode>
					<description>Address of the company sales unit.</description>
					<updatable>true</updatable>
					<canonicalItemSource>CanonicalPartyRelationshipSales</canonicalItemSource>
					<status></status>
					<attributes>
						<attribute>
							<name>contactFirstName</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalAddress', 'SAPCUSTOMER_INBOUND_POOL',
								'addressId='+#root.relatedPartyId+'_0001')?.contactFirstName</transformationExpression>
							<exportCode>contactFirstName</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>						
						<attribute>
							<name>contactLastName</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalAddress', 'SAPCUSTOMER_INBOUND_POOL',
								'addressId='+#root.relatedPartyId+'_0001')?.contactLastName</transformationExpression>
							<exportCode>contactLastName</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>								
						<attribute>
							<name>addressLine2</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalAddress', 'SAPCUSTOMER_INBOUND_POOL',
								'addressId='+#root.relatedPartyId+'_0001')?.addressLine2</transformationExpression>
							<exportCode>addressLine2</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>			
						<attribute>
							<name>countryName</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalAddress', 'SAPCUSTOMER_INBOUND_POOL',
								'addressId='+#root.relatedPartyId+'_0001')?.addressCountry</transformationExpression>
							<exportCode>countryName</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>
						<attribute>
							<name>contactNumber</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>resolve('CanonicalAddress', 'SAPCUSTOMER_INBOUND_POOL',
								'addressId='+#root.relatedPartyId+'_0001')?.addressContactNumber</transformationExpression>
							<exportCode>contactNumber</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>					
						<attribute>
							<name>soldToAddress</name>
							<localizable>false</localizable>
							<collection>false</collection>
							<transformationExpression>relationshipType=='AG'</transformationExpression>
							<exportCode>soldToAddress</exportCode>
							<mandatoryInHeader>false</mandatoryInHeader>
						</attribute>						
					</attributes>
				</item>					
			</targetItems>
		</targetSystem>
	</targetSystems>

</extension>
